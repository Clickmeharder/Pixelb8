<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>HUD | ARIA UPLINK</title>
    <style>
        :root { --amber: #ffb300; --bg: #050505; }
        body { background: var(--bg); color: var(--amber); font-family: 'Courier New', monospace; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .terminal { border: 1px solid var(--amber); padding: 25px; width: 500px; box-shadow: 0 0 15px rgba(255,179,0,0.2); position: relative; }
        .glitch-text { animation: blink 1s infinite; color: #ff4444; }
        @keyframes blink { 50% { opacity: 0; } }
        button { background: transparent; color: var(--amber); border: 1px solid var(--amber); padding: 10px; cursor: pointer; margin-top: 10px; width: 100%; text-transform: uppercase; }
        button:hover { background: var(--amber); color: #000; }
        #log { margin-top: 15px; font-size: 0.8em; border-top: 1px dashed var(--amber); padding-top: 10px; color: #aa8800; }
    </style>
</head>
<body>

<div class="terminal">
    <div style="display: flex; justify-content: space-between; font-size: 0.7em;">
        <span>STATUS: <span id="sync-status" class="glitch-text">OFFLINE</span></span>
        <span>ID: ARIA_NET_01</span>
    </div>
    <h2 style="border-bottom: 1px solid var(--amber); padding-bottom: 10px;">Mission TTS Engine</h2>
    
    <button onclick="forceSync()">[ 1. FORCE SYNC ARIA ]</button>
    <button onclick="testSpeak()">[ 2. TEST MISSION SIGNAL ]</button>

    <div id="log">> Awaiting manual sync...</div>
</div>

<script>
    let ariaVoice = null;

    // The mission database you mentioned
    const missionData = {
        "M-1": "Silent Ghost Infiltration",
        "M-2": "Hyperion Core Recovery"
    };

    function findAria() {
        const voices = window.speechSynthesis.getVoices();
        // Specifically hunting for the Microsoft Online version
        const target = voices.find(v => v.name.includes("Aria") && v.name.includes("Online")) || 
                     voices.find(v => v.name.includes("Aria"));
        
        if (target) {
            ariaVoice = target;
            document.getElementById('sync-status').innerText = "ONLINE";
            document.getElementById('sync-status').className = "";
            document.getElementById('sync-status').style.color = "#00ff00";
            document.getElementById('log').innerText = `> LINK ESTABLISHED: ${target.name}`;
        }
    }

    // Attempt sync on load and on voice change
    window.speechSynthesis.onvoiceschanged = findAria;
    
    function forceSync() {
        findAria();
        if (!ariaVoice) {
            // If still not found, speak a blank string to "wake up" the engine
            const wakeUp = new SpeechSynthesisUtterance("");
            window.speechSynthesis.speak(wakeUp);
            document.getElementById('log').innerText = "> Sending wake-up signal to Microsoft servers...";
            setTimeout(findAria, 1000); // Try again in 1 second
        }
    }

    function testSpeak() {
        if (!ariaVoice) {
            alert("Aria not synced! Try 'Force Sync' first.");
            return;
        }

        const msg = new SpeechSynthesisUtterance("Mission complete. Silent Ghost Infiltration.");
        msg.voice = ariaVoice;
        msg.rate = 1.0;
        msg.pitch = 1.0;
        
        document.getElementById('log').innerText = "> Broadasting via Aria Online...";
        window.speechSynthesis.speak(msg);
    }
</script>

</body>
</html>